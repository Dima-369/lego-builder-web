<html>
    <head>
        <title>Lego Set Auswahl</title>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script src=" https://cdn.jsdelivr.net/npm/lit@3.3.1/polyfill-support.min.js "></script>
        <link rel="icon" type="image/x-icon" href="img/favicon.ico" />
        <link
            rel="icon"
            type="image/png"
            href="img/favicon.png"
            sizes="32x32"
        />
        <meta
            name="viewport"
            content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
        />
        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

        <script type="module">
            import {
                html,
                css,
                LitElement,
            } from "https://cdn.jsdelivr.net/npm/lit@3.3.1/+esm";

            export class SimpleGreeting extends LitElement {
                static properties = {
                    imgSrc: { type: String },
                    model: { type: String },
                    title: { type: String },
                };

                createRenderRoot() {
                    return this;
                }

                connectedCallback() {
                    super.connectedCallback();
                    // make the host invisible to Grid
                    this.classList.add("contents");
                }

                get finalHref() {
                    const isGithubPages =
                        window.location.host === "dima-369.github.io";
                    const pathPrefix = "/lego-builder-web";
                    const prefix = "/instructions.html?model=";
                    if (isGithubPages) {
                        return pathPrefix + prefix + this.model;
                    }
                    return prefix + this.model;
                }

                render() {
                    return html`
                        <a
                            class="border border-gray-300 rounded-lg p-4 bg-white flex flex-col hover:shadow-lg transition-shadow h-full"
                            href="${this.finalHref}"
                        >
                            <img src="${this.imgSrc}" class="w-full h-auto" />
                            <h2
                                class="mt-2 text-center text-xl text-wrap break-all"
                            >
                                ${this.title}
                            </h2>
                        </a>
                    `;
                }
            }
            customElements.define("lego-build", SimpleGreeting);
        </script>
    </head>

    <body class="p-6 bg-gray-100">
        <div class="grid grid-cols-1 gap-3 sm:grid-cols-2">
            <lego-build
                model="30477"
                title="ChamÃ¤leon (30477)"
                imgSrc="img/sets/30477.jpg"
            ></lego-build>
            <lego-build
                model="30477-alt-dragster"
                title="Dragster (30477)"
                imgSrc="img/sets/30477-alt-dragster.png"
            ></lego-build>
            <lego-build
                model="42132"
                title="Motorrad (42132)"
                imgSrc="img/sets/42132.png"
            ></lego-build>
            <lego-build
                model="42132-alt"
                title="Motorrad (42132)"
                imgSrc="img/sets/42132-alt.png"
            ></lego-build>
            <lego-build
                model="31109"
                title="Piratenschiff (31109)"
                imgSrc="img/sets/31109.jpg"
            ></lego-build>
            <lego-build
                model="42133-1-teleskoplader"
                title="Teleskoplader (42133)"
                imgSrc="img/sets/42133-1-teleskoplader.png"
            ></lego-build>
            <lego-build
                model="42133-2-abschleppwagen"
                title="Abschleppwagen (42133)"
                imgSrc="img/sets/42133-2-abschleppwagen.png"
            ></lego-build>
            <lego-build
                model="42147-1-kipplaster"
                title="Kipplaster (42147)"
                imgSrc="img/sets/42147-1-kipplaster.png"
            ></lego-build>
            <lego-build
                model="42147-2-greifbagger"
                title="Greifbagger (42147)"
                imgSrc="img/sets/42147-2-greifbagger.png"
            ></lego-build>
            <lego-build
                model="42163-schwerlast-bulldozer"
                title="Bulldozer (42163)"
                imgSrc="img/sets/42163-schwerlast-bulldozer.png"
            ></lego-build>
            <lego-build
                model="60461"
                title="Roter Traktor (60461)"
                imgSrc="img/sets/60461-roter-traktor-mit-anhaenger.png"
            ></lego-build>
            <lego-build
                model="60287-roter-traktor"
                title="Roter Traktor (60287)"
                imgSrc="img/sets/60287-roter-traktor.png"
            ></lego-build>
        </div>
    </body>
</html>
